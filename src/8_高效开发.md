## 高效开发

### 问题

一旦你的测试套件需要较长的时间运行，你将想要避免浪费时间在等待结果上。

### 解决方案

QUnit有一堆内置功能来解决这个问题。最有趣的一个，只需点击激活页眉的“Hide passed tests”复选框，则QUnit将只显示失败的测试用例。这本身对速度没什么影响，但有利于把注意力集中在失败的测试用例上。

如果你把另一QUnit功能考虑进来，它将变得更有趣，这是默认启用的，通常不明显。当一个测试用例失败，QUnit将该测试用例的名称存储在`sessionStorage`。下次运行时，该测试用例将优先运行。输出顺序不受影响，仅执行顺序。结合“Hide passed tests”复选框，您就能在页眉尽快看到失败的测试用例(如果仍然失败)。

### 讨论

自动重新排序是默认发生的。这意味着你的测试用例必须是原子化的。如果不是，你会看到随机的*非确定性错误*。修复这一点通常是正确的做法。如果你真的绝望了，你可以设置`QUnit.config.reorder = false`。

除了自动重新排序，还有几个手动选项可用。您可以点击任意测试用例旁边的“Return”链接来重新运行测试。这将给查询字符串增加一个“testNumber = N”参数，其中“N”是该测试用例的编号。然后，您可以刷新页面来只运行该测试用例，或使用浏览器的后退按钮返回到运行所有测试用例的状态。

运行模块内的测试用例几乎是相同的方式，除非你使用右上角的下拉列表选择模块来运行。它会设置一个“module = N”的查询字符串，其中“N”是编码后的模块名称，例如“?module=testEnvironment％20with％20object”。


原文：[http://qunitjs.com/cookbook/#efficient_development]()

====================================================================

